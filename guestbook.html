<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>guestbook</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <div id="github_authentication">
        <div id="signed_out">
            <div class="nav_signed_out content-align">
                <div class="new_page" style="flex-grow: 1">
                    guestbook
                </div>
                <button onclick="signInWithGithub()">sign in with github</button>
                <a href="index.html">home</a>
            </div>
            <p class="content-align">sign in with github to leave a message!</p>
        </div>

    <div id="signed_in" class="hidden">
        <div class="nav_signed_in content-align">
            <div class="new_page" style="flex-grow: 1">
                guestbook
            </div>
            <img id="user_avatar" src="" alt="Avatar">
            <span id="user_name"></span>
            <button onclick="signOut()">sign out</button>
            <a href="index.html">home</a>
        </div>
    </div>

    <div id="message_form" class="hidden content-align">
        <textarea id="message_input" placeholder="leave a message..."></textarea>
        <button onclick="submitMessage()" id="submit-button">post</button>
    </div>
    
    <div class="messages">
        <ul id="messages_list" class="content-align">   
            <li class="loading">loading messages...</li>
        </ul>
    </div>

    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="guestbook.js"></script>
</body>
</html>